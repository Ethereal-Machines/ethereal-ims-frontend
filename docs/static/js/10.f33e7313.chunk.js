webpackJsonp([10],{1119:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return{userComapny:e.Users.company}}function l(e){return{dispatchUserCompany:function(t){e({type:v.z,value:t})}}}Object.defineProperty(t,"__esModule",{value:!0});var c=a(0),i=a.n(c),m=a(72),p=a(19),b=a(106),d=a(103),h=a(105),f=a(410),g=a(108),N=a(1158),y=a(104),S=a(107),v=a(48),C=a(71),j=a(1159),w=a(409),E=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),W=function(e){function t(){var e,a,o,u;r(this,t);for(var l=arguments.length,c=Array(l),i=0;i<l;i++)c[i]=arguments[i];return a=o=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.state={gToken:Object(C.b)(),productName:"",serialNumber:"",subject:"",message:"",productNameWarn:!1,serialNumberWarn:!1,subjectWarn:!1,messageWarn:!1,showLoader:!1,errMsg:"",showUCLoader:!0},o.success=function(){p.m.success({title:"Successful",content:"Issue has been created :)"})},o.error=function(){p.m.error({title:"Oops",content:"Something went wrong. Please try again later :("})},o.getCompanyCallback=function(e){200===e.status||304===e.status?(o.setState({showUCLoader:!1}),o.props.dispatchUserCompany(e.data)):console.log(e.response)},o.callback=function(e){200===e.status?(o.success(),o.setState({showLoader:!1,errMsg:""})):(o.error(),o.setState({showLoader:!1,errMsg:""}),console.log(e.response))},o.onFormSubmit=function(e){if(e.preventDefault(),o.setState({showLoader:!0,errMsg:""}),o.validate()&&o.state.gToken){var t={productName:o.state.productName,serialNumber:o.state.serialNumber,subject:o.state.subject,description:o.state.message};o.outlineColor(),Object(j.a)(o.callback,t,o.state.gToken)}else o.outlineColor(),o.setState({showLoader:!1,errMsg:"Fill all * field"})},o.onInputChange=function(e){o.setState(n({},e.target.name,e.target.value))},o.outlineColor=function(){o.state.productName?o.setState({productNameWarn:!1}):o.setState({productNameWarn:!0}),o.state.serialNumber?o.setState({serialNumberWarn:!1}):o.setState({serialNumberWarn:!0}),o.state.subject?o.setState({subjectWarn:!1}):o.setState({subjectWarn:!0}),o.state.message?o.setState({messageWarn:!1}):o.setState({messageWarn:!0})},o.validate=function(){var e=o.state,t=e.productName,a=e.serialNumber,n=e.subject,r=e.message;return""!==t&&""!==a&&""!==n&&""!==r},u=a,s(o,u)}return o(t,e),E(t,[{key:"componentDidMount",value:function(){var e=this.state.gToken;e&&Object(w.b)(this.getCompanyCallback,e)}},{key:"render",value:function(){var e=this,t=["Pentagram","Ray","Halo"],a=[];return this.props.userComapny&&this.props.userComapny.products&&this.props.userComapny.products.map(function(e){return a.push(e.machineSRN)}),this.state.showUCLoader?i.a.createElement("div",{className:"container"},i.a.createElement(d.a,null)):i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"issue-form"},i.a.createElement(S.a,{heading:"Raise Issue"}),i.a.createElement(b.a,{onSubmitHandler:this.onFormSubmit},i.a.createElement(f.a,{onSelectChange:function(t){return e.setState({productName:t})},isRequired:!0,name:"productsName",labelName:"Product Name",dataSource:t,placeholder:"Select a Product",classValue:this.state.productNameWarn?"inputField-outline":null}),i.a.createElement(f.a,{onSelectChange:function(t){return e.setState({serialNumber:t})},isRequired:!0,name:"productsNumber",labelName:"Product Number",dataSource:a,placeholder:"Select Product Number",classValue:this.state.serialNumberWarn?"inputField-outline":null}),i.a.createElement(g.a,{type:"text",value:this.state.subject,name:"subject",labelName:"Subject",placeholder:"Enter subject",onInputChange:this.onInputChange,isRequired:!0,classValue:this.state.subjectWarn?"inputField-outline":null}),i.a.createElement(N.a,{name:"message",labelName:"Description",placeholder:"Enter Description",value:this.state.message,onInputChange:this.onInputChange,isRequired:!0,classValue:this.state.messageWarn?"inputField-outline":null}),this.state.errorMsg?i.a.createElement(h.a,{errorMsgs:this.state.errorMsg}):null,this.state.showLoader?i.a.createElement(d.a,null,"Creating..."):null,i.a.createElement("div",{className:"issue-form-button"},i.a.createElement(y.a,{isType:"primary",htmlTypes:"submit",isBlock:!0},"Submit")))))}}]),t}(c.Component);t.default=Object(m.b)(u,l)(W)},1158:function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=a(19),o=a(73),u=s.j.TextArea,l=function(e){return r.a.createElement(o.a,null,r.a.createElement("label",{htmlFor:e.name},e.labelName,e.isRequired?r.a.createElement("span",{className:"star"},"*"):null),r.a.createElement(u,{placeholder:e.placeholder,className:e.classValue,name:e.name,value:e.value,onChange:e.onInputChange,size:"large",autosize:{minRows:e.minRows?e.minRows:6}}))};t.a=l},1159:function(e,t,a){"use strict";a.d(t,"a",function(){return r});var n=a(87),r=function(e,t,a){n.a.post("/issues",t,{headers:{"x-auth":a}}).then(function(t){e(t)}).catch(function(t){return e(t)})}}});
//# sourceMappingURL=10.f33e7313.chunk.js.map